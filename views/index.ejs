<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FleetVRP: Route Optimization Software</title>
  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://unpkg.com/htmx.org@1.6.1"></script>
  <%- include('style.ejs') %>
</head>

<body>
  <%- include('splash.ejs') %>

  <main style="min-height: calc(100vh - 300px);">
    <div class="container">
      <% if (user) { %>
        <div class="row">
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Owner</span>
                <p>Setup Managers. Handle payments integration with Stripe. Sync customers with CRM and orders with OMS. Import and export FleetVRP data.</p>
              </div>
              <div class="card-action">
                <a href="/app/owner" class="waves-effect waves-light btn blue darken-2 fluid">Owner</a>
              </div>
            </div>
          </div>
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Manager</span>
                <p>Configure which users can see which VRP modules. Setup depots, fleets, vehicles, employees, and customers.</p>
              </div>
              <div class="card-action">
                <a href="/app/manager" class="waves-effect waves-light btn blue darken-2 fluid">Manager</a>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Solver</span>
                <p>Calculate VRP algorithms in the cloud or on local machines. Algo setup requires a single redis based server and for each worker a running nestjs based server.</p>
              </div>
              <div class="card-action">
                <a href="/app/solver" class="waves-effect waves-light btn blue darken-2 fluid">Solver</a>
              </div>
            </div>
          </div>
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Planner</span>
                <p>Look at the backlog of orders, run them through the Solver, and sync new routes to Pickup and Delivery. Setup time windows for employees and vehicles.</p>
              </div>
              <div class="card-action">
                <a href="/app/planner" class="waves-effect waves-light btn blue darken-2 fluid">Planner</a>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Pickup & Delivery</span>
                <p>Stay ontop of your pre planned route. Keep the Planner up to date with any work order status changes.</p>
              </div>
              <div class="card-action">
                <a href="/app/pickup-and-delivery" class="waves-effect waves-light btn blue darken-2 fluid">Pickup & Delivery</a>
              </div>
            </div>
          </div>
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">VRP: Order</span>
                <p>Place customer work orders into the Planner backlog. Stream events about the status of their work order to customers using email and text message.</p>
              </div>
              <div class="card-action">
                <a href="/app/order" class="waves-effect waves-light btn blue darken-2 fluid">Order</a>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col s12 m6 offset-m3">
            <div class="card">
              <div class="card-content">
                <span class="card-title">Welcome, <%= user.email %>!</span>
                <p>Your Stripe Customer ID: <%= user.stripeCustomerId %></p>
              </div>
              <div class="card-action">
                <form action="/logout" method="POST">
                  <button type="submit" class="waves-effect waves-light btn grey lighten-1 black-text fluid">Logout</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      <% } else { %>
        <div class="row">
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">New User?</span>
                <p>Create an account to get started with our amazing services.</p>
              </div>
              <div class="card-action">
                <a href="/register" class="waves-effect waves-light btn blue darken-2 fluid">Register</a>
              </div>
            </div>
          </div>
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <span class="card-title">Returning User?</span>
                <p>Welcome back! Sign in to access your account.</p>
              </div>
              <div class="card-action">
                <a href="/login" class="waves-effect waves-light btn blue darken-2 fluid">Login</a>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    </div>
    <br />
    <br />
    <br />
  </main>

  <%- include('footer.ejs') %>

  <!-- Materialize JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    // Initialize Materialize components
    M.AutoInit();
  </script>
</body>

</html>