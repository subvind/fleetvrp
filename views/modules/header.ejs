<header class="navbar-fixed">
  <nav class="navbar white black-text">
    <a href="#" class="brand-logo black-text"></a>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var brandLogo = document.querySelector('.brand-logo');

        brandLogo.href = '//' + window.location.host;
        brandLogo.textContent = window.location.host;
      })
    </script>
    <div class="nav-wrapper">
      <a href="#" data-target="slide-out" class="sidenav-trigger left"><i class="material-icons">menu</i></a>
      <ul class="right">
        <% if (user) { %>
          <li class="hide-on-med-and-down"><a class="my-profile" href="/users/<%= user.id %>" class="black-text"><%= user.email %></a></li>
          <li class="hide-on-med-and-up show-on-medium-and-down"><a href="/users/<%= user.id %>" class="black-text"><i class="material-icons">account_circle</i></a></li>
        <% } else { %>
          <li ><a href="/login" class="black-text">Login</a></li>
          <li ><a href="/register" class="black-text">Register</a></li>
        <% } %>
        </ul>
    </div>
  </nav>
</header>

<ul id="slide-out" class="navi sidenav sidenav-fixed blue darken-2" style="transform: translateX(-105%);">
  <li class="">
    <nav class="">
      <a href="/" class="brand-logo center" style="width: 100%;">ACME Corp.</a>
      <!-- <a href="/" class="brand-logo center">Stirva</a> -->
    </nav>
  </li>
  <li><a href="/pages/main" style="text-transform: none;" class="btn waves-effect blue darken-3 white-text">A Company Making Everything</a></li>
  <li>
    <ul class="collapsible collapsible-accordion">
      <li class="bold waves-effect active">
        <a class="collapsible-header" tabindex="0">Modules<i class="material-icons chevron">chevron_left</i></a>
        <div class="collapsible-body">
          <ul>
            <li><a href="/modules/owner" class="waves-effect <%= moduleSlug === 'owner' ? 'active' : '' %>">VRP: Owner<i class="material-icons">domain</i></a></li>
            <li><a href="/modules/manager" class="waves-effect <%= moduleSlug === 'manager' ? 'active' : '' %>">VRP: Manager<i class="material-icons">assignment_ind</i></a></li>
            <li><a href="/modules/solver" class="waves-effect <%= moduleSlug === 'solver' ? 'active' : '' %>">VRP: Solver<i class="material-icons">extension</i></a></li>
            <li><a href="/modules/planner" class="waves-effect <%= moduleSlug === 'planner' ? 'active' : '' %>">VRP: Planner<i class="material-icons">event</i></a></li>
            <li><a href="/modules/pickup-and-delivery" class="waves-effect <%= moduleSlug === 'pickup-and-delivery' ? 'active' : '' %>">VRP: Pickup & Delivery<i class="material-icons">directions_car</i></a></li>
            <li><a href="/modules/order" class="waves-effect <%= moduleSlug === 'order' ? 'active' : '' %>">VRP: Order<i class="material-icons">flag</i></a></li>
          </ul>
        </div>
      </li>
    </ul>
  </li>
  <li>
    <ul class="collapsible collapsible-accordion">
      <li class="bold waves-effect active">
        <a class="collapsible-header" tabindex="0"><%= moduleName %><i class="material-icons chevron">chevron_left</i></a>
        <div class="collapsible-body">
          <ul>
            <% navigation.forEach(nav => { %>
              <li><a href="<%= nav.url %>" class="waves-effect <%= nav.slug === subModuleSlug ? 'active' : '' %>"><%= nav.name %><i class="material-icons"><%= nav.icon %></i></a></li>
            <% }) %>
          </ul>
        </div>
      </li>
    </ul>
  </li>
  <li><a href="/vehicles" class="waves-effect">Vehicles</a></li>
  <li><a href="/orders" class="waves-effect">Orders</a></li>
  <li><a href="/routes" class="waves-effect">Routes</a></li>
  <li><a href="/users" class="waves-effect">Users</a></li>
</ul>

<style>
  header {
    background: #aaa;
  }

  header hr {
    border-top: 1px solid #777;
    border-bottom: 0;
  }

  header a {
    color: #000;
  }

  header .logo {
    color: #333;
  }
  header .logo :hover {
    color: #000;
  }

  header .title {
    color: #333;
  }
  header .title:hover {
    color: #000;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.navi');
    var instances = M.Sidenav.init(elems, {});
    
    var elems2 = document.querySelectorAll('.collapsible');
    var instances2 = M.Collapsible.init(elems2, {});
  });
</script>